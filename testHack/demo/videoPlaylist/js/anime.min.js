!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.anime=b()}(this,function(){var d,a="1.1.0",b={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0,initialTransform:void 0},c=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY"],e="transform",f=function(){return{array:function(a){return Array.isArray(a)},object:function(a){return Object.prototype.toString.call(a).indexOf("Object")>-1},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||f.svg(a)},number:function(a){return!isNaN(parseInt(a))},string:function(a){return"string"==typeof a},func:function(a){return"function"==typeof a},undef:function(a){return"undefined"==typeof a},null:function(a){return"null"==typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},rgba:function(a){return/^rgba/.test(a)},hsl:function(a){return/^hsl/.test(a)},color:function(a){return f.hex(a)||f.rgb(a)||f.rgba(a)||f.hsl(a)}}}(),g=function(){var a={},b=["Quad","Cubic","Quart","Quint","Expo"],c={Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a,b){if(0===a||1===a)return a;var c=1-Math.min(b,998)/1e3,d=a/1,e=d-1,f=c/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*e)*Math.sin((e-f)*(2*Math.PI)/c))},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}};return b.forEach(function(a,b){c[a]=function(a){return Math.pow(a,b+2)}}),Object.keys(c).forEach(function(b){var d=c[b];a["easeIn"+b]=d,a["easeOut"+b]=function(a,b){return 1-d(1-a,b)},a["easeInOut"+b]=function(a,b){return a<.5?d(2*a,b)/2:1-d(a*-2+2,b)/2}}),a.linear=function(a){return a},a}(),h=function(a){return f.string(a)?a:a+""},i=function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},j=function(a){if(f.color(a))return!1;try{var b=document.querySelectorAll(a);return b}catch(a){return!1}},k=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},l=function(a){return a.reduce(function(a,b){return a.concat(f.array(b)?l(b):b)},[])},m=function(a){return f.array(a)?a:(f.string(a)&&(a=j(a)||a),a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a])},n=function(a,b){return a.some(function(a){return a===b})},o=function(a,b){var c={};return a.forEach(function(a){var d=JSON.stringify(b.map(function(b){return a[b]}));c[d]=c[d]||[],c[d].push(a)}),Object.keys(c).map(function(a){return c[a]})},p=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})},q=function(a){var b={};for(var c in a)b[c]=a[c];return b},r=function(a,b){for(var c in b)a[c]=f.undef(a[c])?b[c]:a[c];return a},s=function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d}),c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),d=parseInt(c[1],16),e=parseInt(c[2],16),f=parseInt(c[3],16);return"rgb("+d+","+e+","+f+")"},t=function(a){var f,g,h,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a),b=parseInt(a[1])/360,c=parseInt(a[2])/100,d=parseInt(a[3])/100,e=function(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a};if(0==c)f=g=h=d;else{var i=d<.5?d*(1+c):d+c-d*c,j=2*d-i;f=e(j,i,b+1/3),g=e(j,i,b),h=e(j,i,b-1/3)}return"rgb("+255*f+","+255*g+","+255*h+")"},u=function(a){return f.rgb(a)||f.rgba(a)?a:f.hex(a)?s(a):f.hsl(a)?t(a):void 0},v=function(a){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(a)[2]},w=function(a,b,c){return v(b)?b:a.indexOf("translate")>-1?v(c)?b+v(c):b+"px":a.indexOf("rotate")>-1||a.indexOf("skew")>-1?b+"deg":b},x=function(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(i(b))||"0"},y=function(a,b){var c=b.indexOf("scale")>-1?1:0,d=a.style.transform;if(!d)return c;for(var e=/(\w+)\((.+?)\)/g,f=[],g=[],h=[];f=e.exec(d);)g.push(f[1]),h.push(f[2]);var i=h.filter(function(a,c){return g[c]===b});return i.length?i[0]:c},z=function(a,b){return f.dom(a)&&n(c,b)?"transform":f.dom(a)&&"transform"!==b&&x(a,b)?"css":f.dom(a)&&(a.getAttribute(b)||f.svg(a)&&a[b])?"attribute":f.null(a[b])||f.undef(a[b])?void 0:"object"},A=function(a,b){switch(z(a,b)){case"transform":return y(a,b);case"css":return x(a,b);case"attribute":return a.getAttribute(b)}return a[b]||0},B=function(a,b,c){if(f.color(b))return u(b);if(v(b))return b;var d=v(v(a.to)?a.to:a.from);return!d&&c&&(d=v(c)),d?b+d:b},C=function(a){var b=/-?\d*\.?\d+/g;return{original:a,numbers:h(a).match(b)?h(a).match(b).map(Number):[0],strings:h(a).split(b)}},D=function(a,b,c){return b.reduce(function(b,d,e){var d=d?d:c[e-1];return b+a[e-1]+d})},E=function(a){var a=a?l(f.array(a)?a.map(m):m(a)):[];return a.map(function(a,b){return{target:a,id:b}})},F=function(a,c){var d=[];for(var e in a)if(!b.hasOwnProperty(e)&&"targets"!==e){var g=f.object(a[e])?q(a[e]):{value:a[e]};g.name=e,d.push(r(g,c))}return d},G=function(a,b,c,d){var e=m(f.func(c)?c(a,d):c);return{from:e.length>1?e[0]:A(a,b),to:e.length>1?e[1]:e[0]}},H=function(a,b,c,d){var e={};if("transform"===c)e.from=a+"("+w(a,b.from,b.to)+")",e.to=a+"("+w(a,b.to)+")";else{var f="css"===c?x(d,a):void 0;e.from=B(b,b.from,f),e.to=B(b,b.to,f)}return{from:C(e.from),to:C(e.to)}},I=function(a,b){var c=[];return a.forEach(function(d,e){var g=d.target;return b.forEach(function(b){var h=z(g,b.name);if(h){var i=G(g,b.name,b.value,e),j=q(b);j.animatables=d,j.type=h,j.from=H(b.name,i,j.type,g).from,j.to=H(b.name,i,j.type,g).to,j.round=f.color(i.from)||j.round?1:0,j.delay=(f.func(j.delay)?j.delay(g,e,a.length):j.delay)/Y.speed,j.duration=(f.func(j.duration)?j.duration(g,e,a.length):j.duration)/Y.speed,c.push(j)}})}),c},J=function(a,b){var c=I(a,b),d=o(c,["name","from","to","delay","duration"]);return d.map(function(a){var b=q(a[0]);return b.animatables=a.map(function(a){return a.animatables}),b.totalDuration=b.delay+b.duration,b})},K=function(a,b){a.tweens.forEach(function(c){var d=c.to,e=c.from,f=a.duration-(c.delay+c.duration);c.from=d,c.to=e,b&&(c.delay=f)}),a.reversed=!a.reversed},L=function(a){if(a.length)return Math.max.apply(Math,a.map(function(a){return a.totalDuration}))},M=function(a){var b=[],c=[];return a.tweens.forEach(function(a){"css"!==a.type&&"transform"!==a.type||(b.push("css"===a.type?i(a.name):"transform"),a.animatables.forEach(function(a){c.push(a.target)}))}),{properties:p(b).join(", "),elements:p(c)}},N=function(a){var b=M(a);b.elements.forEach(function(a){a.style.willChange=b.properties})},O=function(a){var b=M(a);b.elements.forEach(function(a){a.style.removeProperty("will-change")})},Q=function(a){var b=f.string(a)?j(a)[0]:a;return{path:b,value:b.getTotalLength()}},R=function(a,b){var c=a.path,d=a.value*b,e=function(e){var f=e||0,g=b>1?a.value+f:d+f;return c.getPointAtLength(g)},f=e(),g=e(-1),h=e(1);switch(a.name){case"translateX":return f.x;case"translateY":return f.y;case"rotate":return 180*Math.atan2(h.y-g.y,h.x-g.x)/Math.PI}},S=function(a,b){var c=Math.min(Math.max(b-a.delay,0),a.duration),d=c/a.duration,e=a.to.numbers.map(function(b,c){var e=a.from.numbers[c],f=g[a.easing](d,a.elasticity),h=a.path?R(a,f):e+f*(b-e);return h=a.round?Math.round(h*a.round)/a.round:h});return D(e,a.to.strings,a.from.strings)},T=function(a,b){var c;a.currentTime=b,a.progress=b/a.duration*100;for(var f=0;f<a.tweens.length;f++){var g=a.tweens[f];g.currentValue=S(g,b);for(var h=g.currentValue,i=0;i<g.animatables.length;i++){var j=g.animatables[i],k=j.id,l=j.target,m=g.name;switch(g.type){case"css":l.style[m]=h;break;case"attribute":l.setAttribute(m,h);break;case"object":l[m]=h;break;case"transform":c||(c={}),c[k]||(c[k]=[]),c[k].push(h)}}}if(c){d||(d=(x(document.body,e)?"":"-webkit-")+e);for(var f in c)a.animatables[f].target.style[d]=c[f].join(" "),a.animatables[f].target.style[d]+=a.settings.initialTransform}a.settings.update&&a.settings.update(a)},U=function(a){var c={};return c.animatables=E(a.targets),c.settings=r(a,b),c.properties=F(a,c.settings),c.tweens=J(c.animatables,c.properties),c.duration=L(c.tweens)||a.duration,c.currentTime=0,c.progress=0,c.ended=!1,c},V=[],W=0,X=function(){var a=function(){W=requestAnimationFrame(b)},b=function(b){if(V.length){for(var c=0;c<V.length;c++)V[c].tick(b);a()}else cancelAnimationFrame(W),W=0};return a}(),Y=function(a){var b=U(a),c={};return b.tick=function(a){b.ended=!1,c.start||(c.start=a),c.current=Math.min(Math.max(c.last+a-c.start,0),b.duration),T(b,c.current);var d=b.settings;d.begin&&c.current>=d.delay&&(d.begin(b),d.begin=void 0),c.current>=b.duration&&(d.loop?(c.start=a,"alternate"===d.direction&&K(b,!0),f.number(d.loop)&&d.loop--):(b.ended=!0,b.pause(),d.complete&&d.complete(b)),c.last=0)},b.seek=function(a){T(b,a/100*b.duration)},b.killAnimation=function(){V[0].settings.complete,V=[]},b.pause=function(){O(b);var a=V.indexOf(b);a>-1&&V.splice(a,1)},b.play=function(a){b.pause(),a&&(b=r(U(r(a,b.settings)),b)),c.start=0,c.last=b.ended?0:b.currentTime;var d=b.settings;"reverse"===d.direction&&K(b),"alternate"!==d.direction||d.loop||(d.loop=1),N(b),V.push(b),W||X()},b.restart=function(){b.reversed&&K(b),b.pause(),b.seek(0),b.play()},b.settings.autoplay&&b.play(),b},Z=function(a){for(var b=l(f.array(a)?a.map(m):m(a)),c=V.length-1;c>=0;c--)for(var d=V[c],e=d.tweens,g=e.length-1;g>=0;g--)for(var h=e[g].animatables,i=h.length-1;i>=0;i--)n(b,h[i].target)&&(h.splice(i,1),h.length||e.splice(g,1),e.length||d.pause())};return Y.version=a,Y.speed=1,Y.list=V,Y.remove=Z,Y.easings=g,Y.getValue=A,Y.path=Q,Y.random=k,Y});