!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery","museutils"],t):t(jQuery)}(function(t){!function(t,e){function i(){}var s={version:.1,inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.prototype._super=e},ensureArray:function(){var e=[],i=arguments.length;return i>0&&(e=i>1||!t.isArray(arguments[0])?t.makeArray(arguments):arguments[0]),e},hasPointerCapture:function(){return!!e.hasPointerCapture},setPointerCapture:function(t,i){i.pointerId&&!e.hasPointerCapture&&(t.setPointerCapture?(t.setPointerCapture(i.pointerId),e.hasPointerCapture=!0):t.msSetPointerCapture&&(t.msSetPointerCapture(i.pointerId),e.hasPointerCapture=!0))},releasePointerCapture:function(t,i){i.pointerId&&e.hasPointerCapture&&(t.releasePointerCapture?t.releasePointerCapture(i.pointerId):t.msReleasePointerCapture&&t.msReleasePointerCapture(i.pointerId),delete e.hasPointerCapture)},scopedFind:function(e,i,s,n){for(var s=" "+s+" ",a=[],e=t(e).find(i),i=e.length,n=t(n)[0],o=0;o<i;o++)for(var r=e[o],l=r;l;){if(l.className&&(" "+l.className+" ").indexOf(s)!==-1){l===n&&a.push(r);break}l=l.parentNode}return t(a)}};t.extend(i.prototype,{bind:function(e,i,s){return t(this).bind(e,i,s)},unbind:function(e,i){return t(this).unbind(e,i)},trigger:function(e,i){var s=t.Event(e);return t(this).trigger(s,i),s}}),s.EventDispatcher=i,e.WebPro=s}(t,window,document),function(t,e){var i=1;e.ImageLoader=function(i){e.EventDispatcher.call();var s=this;this.options=t.extend({},this.defaultOptions,i),this._currentEntry=null,this._queue=[],this._isRunning=this._needsSort=!1,this._loader=new Image,this._loadFunc=function(){s._handleLoad()},this._loadErrorFunc=function(){s._handleError()},this._timeoutFunc=function(){s.trigger("wp-image-loader-timeout",this._currentEntry),s._loadNext()}},e.inherit(e.ImageLoader,e.EventDispatcher),t.extend(e.ImageLoader.prototype,{defaultOptions:{timeoutInterval:1e3},add:function(s,n){if(s){urls=e.ensureArray(s);for(var a=0;a<urls.length;a++){var o=t.extend({reqId:i++,src:urls[a],width:0,height:0,priority:50,callback:null,data:null},n);this._queue.push(o),this._needsSort=!0,this.trigger("wp-image-loader-add",o)}this._isRunning&&!this._currentEntry&&this._loadNext()}},reprioritize:function(t,e){if(!this._currentEntry||this._currentEntry.src!=t){var i;for(i=0;i<this._queue.length&&this._queue[i].src!=t;++i);0!=i&&i<this._queue.length&&(this._queue=this._queue.splice(i,e?this._queue.length-i:1).concat(this._queue))}},start:function(){this._isRunning||(this._isRunning=!0,this._loadNext(),this.trigger("wp-image-loader-start"))},stop:function(){this._isRunning&&(this._currentEntry&&this._queue.unshift(this._currentEntry),this._resetLoader(),this._isRunning=!1,this.trigger("wp-image-loader-stop"))},clearQueue:function(){var t=this._isRunning;this.stop(),this._queue.length=0,t&&this.start()},isQueueEmpty:function(){return 0==this._queue.length},_loadNext:function(){var t;this._resetLoader();var e=this._queue;if(e.length){this._needsSort&&(t=this._queue=e.sort(function(t,e){var i=t.priority-e.priority;return i?i:t.reqId-e.reqId}),e=t,this._needsSort=!1),this._currentEntry=e=e.shift();var i=this._loader;i.onload=this._loadFunc,i.onerror=this._loadErrorFunc,i.src=e.src}},_resetLoader:function(){var t=this._loader;t.onload=null,t.onerror=null,this._currentEntry=t.src=null,this._timeoutTimerId&&(clearTimeout(this._timeoutTimerId),this._timeoutTimerId=0)},_handleLoad:function(){var t=this._loader,e=this._currentEntry;e.width=t.width,e.height=t.height,e.callback&&e.callback(e.src,e.width,e.height,e.data),this.trigger("wp-image-loader-load-success",e),this._loadNext()},_handleError:function(){this.trigger("wp-image-loader-load-error",this._currentEntry),this._loadNext()}})}(t,WebPro,window,document),function(t,e){function i(){e.EventDispatcher.call(this),this._initialize.apply(this,arguments)}e.inherit(i,e.EventDispatcher),t.extend(i.prototype,{defaultOptions:{},_widgetName:"Widget",_initialize:function(){var e;this.plugins=[];var i=this.trigger("before-setup");i.isDefaultPrevented()||(e=this._setUp.apply(this,arguments),this.trigger("setup")),i=this.trigger("before-init-plugins"),i.isDefaultPrevented()||(this._initializePlugins(e),this.trigger("init-plugins")),this.options=t.extend({},this.defaultOptions,e),i=this.trigger("before-extract-data"),i.isDefaultPrevented()||(this._extractData(),this.trigger("extract-data")),i=this.trigger("before-transform-markup"),i.isDefaultPrevented()||(this._transformMarkup(),this.trigger("transform-markup")),i=this.trigger("before-attach-behavior"),i.isDefaultPrevented()||(this._attachBehavior(),this.trigger("attach-behavior")),i=this.trigger("before-ready"),i.isDefaultPrevented()||(this._ready(),this.trigger("ready"));var s=this;t("body").on("muse_bp_activate",function(t,e,i){i.is(s.$bp)&&(s._bpActivate(),s.trigger("bp-activate"))}).on("muse_bp_deactivate",function(t,e,i){i.is(s.$bp)&&(s._bpDeactivate(),s.trigger("bp-deactivate"))})},_setUp:function(e,i){this.$element=t(e);var s=this.$element.closest(".breakpoint");return 1==s.length&&(this.$bp=s,this.breakpoint=this.$bp.data("bpObj")),i},_initializePlugins:function(t){for(var t=t||{},e=(("undefined"==typeof t.useDefaultPlugins||t.useDefaultPlugins)&&this.defaultPlugins?this.defaultPlugins:[]).concat(t.plugins||[]),e=e.sort(function(t,e){return t="number"==typeof t.priority?t.priority:50,e="number"==typeof e.priority?e.priority:50,t-e}),i=0;i<e.length;i++){var s=e[i];s&&s.initialize&&s.initialize(this,t)}this.plugins=e},_extractData:function(){},_transformMarkup:function(){},_attachBehavior:function(){},_ready:function(){},_bpActivate:function(){},_bpDeactivate:function(){}}),e.Widget=i,e.widget=function(i,s,n){var a=n&&s||e.Widget,n=n||s||{},s=function(){a.apply(this,arguments),this._widgetName=i};e.inherit(s,a),t.extend(s.prototype,n),s.prototype.defaultOptions=t.extend({},a.prototype.defaultOptions,n.defaultOptions);var n=i.split("."),o=n.length;namespace=o>1&&n[0]||"Widget",i=n[o-1],e[namespace][i]=s}}(t,WebPro,window,document),function(t,e){e.widget("Widget.Button",e.Widget,{defaultOptions:{hoverClass:"wp-button-hover",activeClass:"wp-button-down",disabledClass:"wp-button-disabled",disabled:!1,clickCallback:null,prevCallback:null,nextCallback:null},_attachBehavior:function(){var e=this,i=function(s){e.$element.removeClass(e.options.activeClass),!e.options.disabled&&e.options.clickCallback&&e.mouseDown&&e.options.clickCallback.call(this,s),t(e.$element).off("mouseup pointerup",i),e.mouseDown=!1};this.mouseDown=!1,this.$element.on("keydown",function(t){if(!e.options.disabled){var i=t.which||t.keyCode;switch(i){case 37:case 38:t.preventDefault(),e.options.prevCallback&&e.options.prevCallback.call(this,t);break;case 39:case 40:t.preventDefault(),e.options.nextCallback&&e.options.nextCallback.call(this,t);break;case 32:case 13:32===i&&t.preventDefault(),e.options.clickCallback&&e.options.clickCallback.call(this,t)}}}).on("mouseover",function(){e.options.disabled||e.$element.addClass(e.options.hoverClass+(e.mouseDown?" "+e.options.activeClass:""))}).on("mouseleave",function(){e.$element.removeClass(e.options.hoverClass+" "+e.options.activeClass),t(e.$element).off("mouseup",i)}).on("mousedown pointerdown",function(){e.options.disabled||(e.mouseDown=!0,e.$element.addClass(e.options.activeClass),t(e.$element).on("mouseup pointerup",i))}),this.disabled(this.options.disabled)},disabled:function(t){return"boolean"==typeof t&&(this.options.disabled=t,this.$element[t?"addClass":"removeClass"](this.options.disabledClass)),this.options.disabled}}),t.fn.wpButton=function(t){return this.each(function(){new e.Widget.Button(this,t)}),this}}(t,WebPro,window,document),function(t,e){e.widget("Widget.RadioGroup",e.Widget,{_widgetName:"radio-group",defaultOptions:{defaultIndex:0,hoverClass:"wp-radio-hover",downClass:"wp-radio-down",disabledClass:"wp-radio-disabled",checkedClass:"wp-radio-checked",disabled:!1,toggleStateEnabled:!1},_attachBehavior:function(){var t=this;this.buttons=[],this.activeElement=null,this.activeIndex=-1,this.$element.each(function(){t.buttons.push(t._addButtonBehavior(this))}),this.disabled(this.options.disabled)},_bpActivate:function(){if(-1!=this.activeIndex){var e=this._getElement(this.activeIndex);e&&t(e).addClass(this.options.checkedClass)}},_bpDeactivate:function(){if(-1!=this.activeIndex){var e=this._getElement(this.activeIndex);e&&t(e).removeClass(this.options.checkedClass)}},_addButtonBehavior:function(t){window.switchTab=this.checkButton.bind(this);var i=this,s=new e.Widget.Button(t,{hoverClass:this.options.hoverClass,downClass:this.options.downClass,disabledClass:this.options.disabledClass,clickCallback:function(e){return i._handleClick(e,s,t)},prevCallback:function(e){return i._handlePrev(e,s,t)},nextCallback:function(e){return i._handleNext(e,s,t)}});return s},_handlePrev:function(){this.options.disabled||(this.activeIndex>this._getElementIndex(this.firstButton.$element[0])?this.activeIndex--:this.activeIndex!==this._getElementIndex(this.firstButton.$element[0])&&this.activeIndex!==-1||(this.activeIndex=this._getElementIndex(this.lastButton.$element[0])),this._getElementByIndex(this.activeIndex).focus(),this.checkButton(this.activeIndex))},_handleNext:function(){this.options.disabled||(this.activeIndex<this.numButtons-1?this.activeIndex++:this.activeIndex===this.numButtons-1&&(this.activeIndex=this._getElementIndex(this.firstButton.$element[0])),this._getElementByIndex(this.activeIndex).focus(),this.checkButton(this.activeIndex))},_handleClick:function(t,e,i){this.options.disabled||this.checkButton(i)},_getElementIndex:function(e){return e?t.inArray(e,this.$element.get()):-1},_getElementByIndex:function(t){return t>=0?this.$element.eq(t)[0]:null},_getElement:function(t){return"number"==typeof t?this._getElementByIndex(t):t},checkButton:function(e){var e=this._getElement(e),i=this.activeElement,s=this.options.checkedClass;e!==i?(i&&this.uncheckButton(i),e&&t(e).addClass(s)):this.options.toggleStateEnabled&&e&&(this.uncheckButton(e,s),e=null),this.activeElement=e,this.activeIndex=this._getElementIndex(e)},uncheckButton:function(e){t(e).removeClass(this.options.checkedClass)},disabled:function(e){return"boolean"==typeof e&&(this.disabled=e,t.each(this.buttons,function(){this.disabled(e)})),this.options.disabled}}),t.fn.wpRadioGroup=function(t){return new e.Widget.RadioGroup(this,t),this}}(t,WebPro,window,document),function(t,e){e.widget("Widget.TabGroup",e.Widget.RadioGroup,{defaultOptions:{defaultIndex:0,hoverClass:"wp-tab-hover",downClass:"wp-tab-down",disabledClass:"wp-tab-disabled",checkedClass:"wp-tab-active",disabled:!1,toggleStateEnabled:!1,isPopupButtonWidget:!1,parentSelectors:[".ThumbGroup",".AccordionWidget",".TabbedPanelsWidget"]},_attachBehavior:function(){this._super.prototype._attachBehavior.apply(this,arguments),this.isPopupButtonWidget=this.options.isPopupButtonWidget,this.numButtons=this.buttons.length,this.firstButton=this.buttons[0],this.lastButton=this.buttons[this.numButtons-1],this.configureAria()},selectTab:function(t){this.checkButton(t)},configureAria:function(){var e=this;this.options.isPopupButtonWidget===!0||1===this.numButtons?(t.each(this.buttons,function(){this.$element.attr({role:"button",tabindex:"0","aria-haspopup":"true"})}),this.isPopupButtonWidget=!0):this.numButtons>1&&(this.parentElement=this.buttons[0].$element.parents(this.options.parentSelectors.join()),this.parentElement.attr("role","tablist"),t.each(this.buttons,function(t){this.$element.attr({role:"tab",tabindex:"0"}),t>0&&e.uncheckButton(this.$element)}))},checkButton:function(e){var i=this._getElement(e),s=this._getElementIndex(i),s={tab:i,tabIndex:s};this.trigger("wp-tab-before-select",s),this._super.prototype.checkButton.apply(this,arguments),t(i).attr({tabindex:"0"}),"lightbox"!==this.options.contentLayout_runtime&&t(i).attr({"aria-selected":"true"}),this.trigger("wp-tab-select",s)},uncheckButton:function(e){this._super.prototype.uncheckButton.apply(this,arguments),this.isPopupButtonWidget||(t(e).attr({tabindex:"-1"}),"lightbox"!==this.options.contentLayout_runtime&&t(e).attr({"aria-selected":"false"}))}}),t.fn.wpTabGroup=function(t){return new e.Widget.TabGroup(this,t),this}}(t,WebPro,window,document),function(t,e){e.widget("Widget.PanelGroup",e.Widget,{_widgetName:"panel-group",defaultOptions:{defaultIndex:0,panelClass:"wp-panel",activeClass:"wp-panel-active",toggleStateEnabled:!1,tabGroups:null},_setUp:function(){var t=this;return this.tabGroups=[],this._tabCallback=function(e,i){t._handleTabSelect(e,i)},this.showLock=0,this.tabDriver=null,this._super.prototype._setUp.apply(this,arguments)},_bpActivate:function(){if(-1!=this.activeIndex){var e=this._getElement(this.activeIndex);e&&t(e).addClass(this.options.activeClass)}},_bpDeactivate:function(){if(-1!=this.activeIndex){var e=this._getElement(this.activeIndex);e&&t(e).removeClass(this.options.activeClass)}},_attachBehavior:function(){this.activeElement=null,this.activeIndex=-1,this.$element.addClass(this.options.panelClass);var t=this.options.defaultIndex;"number"==typeof t&&t>=0&&this.showPanel(t),this.addTabGroup(this.options.tabGroups)},_getElementIndex:function(e){return e?t.inArray(e,this.$element.get()):-1},_getElementByIndex:function(t){return this.$element.eq(t)[0]},_getElement:function(t){return"number"==typeof t?this._getElementByIndex(t):t},configureAria:function(e){t.each(this.$element,function(i,s){t(s).attr({role:"tabpanel","aria-labelledby":e.buttons[i].$element.attr("id")}),e.buttons[i].$element.attr({"aria-controls":t(s).attr("id")})})},showPanel:function(e){if(!this.showLock){++this.showLock;var i=this._getElement(e),s=this.activeElement,n=this.options.activeClass;if(i)if(i!==s){for(e={panel:i,panelIndex:this._getElementIndex(i)},this.trigger("wp-panel-before-show",e),s&&this.hidePanel(s),t(i).addClass(n),this.activeElement=i,this.activeIndex=this._getElementIndex(i),i=this.tabGroups,s=0;s<i.length;s++)n=i[s],n!==this.tabDriver&&n.selectTab(this.activeIndex);this.trigger("wp-panel-show",e)}else this.options.toggleStateEnabled&&this.hidePanel(i);--this.showLock}},hidePanel:function(e){if(e="number"==typeof e?this.$element.eq(e)[0]:e){var i={panel:e,panelIndex:this._getElementIndex(e)};this.trigger("wp-panel-before-hide",i),t(e).removeClass(this.options.activeClass),e===this.activeElement&&(this.activeElement=null,this.activeIndex=-1),this.trigger("wp-panel-hide",i)}},_handleTabSelect:function(t,e){this.showLock||(this.tabDriver=t.target,this.showPanel(e.tabIndex),this.tabDriver=null)},addTabGroup:function(i){if(i)for(var i=e.ensureArray(i),s=i.length,n=0;n<s;n++){var a=i[n];t.inArray(this.tabGroups,a)===-1&&(this.tabGroups.push(a),a.selectTab(this.activeIndex),a.unbind("wp-tab-select").bind("wp-tab-select",this._tabCallback),this.configureAria(a))}},removeTabGroup:function(i){for(var i=e.ensureArray(i),s=i.length,n=0;n<s;n++){var a=i[n];sets=this.tabGroups,loc=t.inArray(sets,a),loc!==-1&&sets.splice(loc,1)}}}),t.fn.wpPanelGroup=function(t){return new e.Widget.PanelGroup(this,t),this}}(t,WebPro,window,document),function(t,e){e.widget("Widget.Disclosure",e.Widget,{defaultOptions:{widgetClassName:"wp-disclosure-panels",tabClassName:"wp-disclosure-panels-tab",tabHoverClassName:"wp-disclosure-panels-tab-hover",tabDownClassName:"wp-disclosure-panels-tab-down",panelClassName:"wp-disclosure-panels-panel",tabActiveClassName:"wp-disclosure-panels-tab-active",panelActiveClassName:"wp-disclosure-panels-panel-active",defaultIndex:0,toggleStateEnabled:!1},_attachBehavior:function(){var t=this.$element[0],i=this.options.widgetClassName,s=e.scopedFind(t,"."+this.options.tabClassName,i,t),t=e.scopedFind(t,"."+this.options.panelClassName,i,t);this.tabs=new e.Widget.TabGroup(s,{hoverClass:this.options.tabHoverClassName,downClass:this.options.tabDownClassName,checkedClass:this.options.tabActiveClassName,toggleStateEnabled:this.options.toggleStateEnabled}),this.panels=new e.Widget.PanelGroup(t,{panelClass:this.options.panelClassName,activeClass:this.options.panelActiveClassName,defaultIndex:this.options.defaultIndex,toggleStateEnabled:this.options.toggleStateEnabled}),this.panels.addTabGroup(this.tabs)}}),e.widget("Widget.TabbedPanels",e.Widget.Disclosure,{defaultOptions:{widgetClassName:"wp-tabbed-panels-panels",tabClassName:"wp-tabbed-panels-panels-tab",tabHoverClassName:"wp-tabbed-panels-panels-tab-hover",tabDownClassName:"wp-tabbed-panels-panels-tab-down",tabActiveClassName:"wp-tabbed-panels-panels-tab-active",panelClassName:"wp-tabbed-panels-panels-panel",panelActiveClassName:"wp-tabbed-panels-panels-panel-active",toggleStateEnabled:!1}}),e.widget("Widget.Accordion",e.Widget.Disclosure,{defaultOptions:{widgetClassName:"wp-accordion",tabClassName:"wp-accordion-tab",tabHoverClassName:"wp-accordion-tab-hover",tabDownClassName:"wp-accordion-tab-down",tabActiveClassName:"wp-accordion-tab-active",panelClassName:"wp-accordion-panel",panelActiveClassName:"wp-accordion-panel-active",toggleStateEnabled:!1}})}(t,WebPro,window,document),function(t,e){e.Widget.Disclosure.DisplayPropertyTransitionPlugin={defaultOptions:{},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s._attachBehavior(e)})},_attachBehavior:function(t){var t=t.panels,e=t.$element,i=t.activeIndex;t.bind("wp-panel-show",function(t,e){e.panel.style.display="block"}),t.bind("wp-panel-hide",function(t,e){e.panel.style.display="none"}),e.each(function(t){this.style.display=t!==i?"none":"block"})}},e.Widget.Disclosure.AccordionTransitionPlugin={defaultOptions:{transitionDirection:"vertical",transitionDuration:500,dispatchTransitionEvents:!0},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s._attachBehavior(e)}).bind("bp-activate",function(){s._bpActivate(e)}).bind("bp-deactivate",function(){s._bpDeactivate(e)})},_bpActivate:function(t){if(-1!=t.panels.activeIndex){var e=t.options,i=e.tabActiveClassName,e=e.transitionDirection,s=t.panels.activeIndex,t=t.panels.$element,n={overflow:"hidden"};"vertical"!==e&&"both"!==e||(n.height="auto"),"horizontal"!==e&&"both"!==e||(n.width="auto"),t.eq(s).addClass(i).css(n)}},_bpDeactivate:function(e){var i=e.options,s=i.tabActiveClassName,n=i.transitionDirection;e.panels.$element.each(function(){var e={overflow:"hidden"};"vertical"!==n&&"both"!==n||(e.height="0"),"horizontal"!==n&&"both"!==n||(e.width="0"),t(this).css(e).removeClass(s)})},_attachBehavior:function(e){var i=this,s=e.panels,n=s.$element,a=s.activeIndex,o=e.options.transitionDirection,r="AccordionWidget"===e.options.widgetClassName?t(n[0]).closest("*[data-rotate]"):null;r&&r.length>0&&(e.options.marginBottom=Muse.Utils.getCSSIntValue(r,"margin-bottom"),e.options.originalHeight=r[0].scrollHeight),e.options.rotatedAccordion=r,s.bind("wp-panel-show",function(t,s){i._showPanel(e,s)}),s.bind("wp-panel-hide",function(t,s){i._hidePanel(e,s)}),n.each(function(e){var e=e===a,i={};i.overflow=e?"":"hidden","vertical"!==o&&"both"!==o||(i.height=e?"auto":"0"),"horizontal"!==o&&"both"!==o||(i.width=e?"auto":"0"),t(this).css(i)})},_updateMarginBottomForRotatedAccordion:function(t){t.options.rotatedAccordion.css("margin-bottom",Math.round(t.options.marginBottom-(t.options.rotatedAccordion[0].scrollHeight-t.options.originalHeight))+"px")},_transitionPanel:function(e,i,s){t("body").trigger("wp-page-height-change",i-e),(e=s.options.rotatedAccordion)&&e.length>0&&(0==s.options.originalHeight&&"undefined"!=typeof i&&(s.options.marginBottom=Muse.Utils.getCSSIntValue(e,"margin-bottom"),s.options.originalHeight=e[0].scrollHeight),this._updateMarginBottomForRotatedAccordion(s))},_showPanel:function(e,i){if(!e.$bp||e.$bp.hasClass("active")){var s=e.options,n=s.transitionDirection,a=t(i.panel),o={},r=s.dispatchTransitionEvents,l=this,d=a.height(),h=function(t){t=parseInt(t.elem.style.height),l._transitionPanel(d,t,e),d=t};"vertical"!==n&&"both"!==n||(o.height=a[0].scrollHeight+"px"),"horizontal"!==n&&"both"!==n||(o.width=a[0].scrollWidth+"px"),a.stop(!0,!0).queue("animationFrameFx",t.animationFrameFx).animate(o,{duration:s.transitionDuration,progress:r?h:null,queue:"animationFrameFx",complete:function(){var t={overflow:""};"vertical"!==n&&"both"!==n||(t.height="auto"),"horizontal"!==n&&"both"!==n||(t.width="auto"),a.css(t),(t=e.options.rotatedAccordion)&&t.length>0&&l._updateMarginBottomForRotatedAccordion(e)}}).dequeue("animationFrameFx")}},_hidePanel:function(e,i){if(!e.$bp||e.$bp.hasClass("active")){var s=e.options,n=s.transitionDirection,a=t(i.panel),o={},r=s.dispatchTransitionEvents,l=this,d=a.height(),h=function(t){t=parseInt(t.elem.style.height),l._transitionPanel(d,t,e),d=t};"vertical"!==n&&"both"!==n||(o.height="0"),"horizontal"!==n&&"both"!==n||(o.width="0"),a.stop(!0,!0).queue("animationFrameFx",t.animationFrameFx).animate(o,{duration:s.transitionDuration,queue:"animationFrameFx",progress:r?h:null,complete:function(){a.css("overflow","hidden");var t=e.options.rotatedAccordion;t&&t.length>0&&l._updateMarginBottomForRotatedAccordion(e)}}).dequeue("animationFrameFx")}}}}(t,WebPro,window,document),function(t,i){i.widget("Widget.SlideShowBase",i.Widget,{_widgetName:"slideshow-base",defaultOptions:{displayInterval:6e3,autoPlay:!1,loop:!0,playOnce:!1},_setUp:function(){var t=this;return this._ssTimer=0,this._ssTimerTriggered=!1,this._ssTimerCallback=function(){t._ssTimerTriggered=!0,t.next(),t._ssTimerTriggered=!1},i.Widget.prototype._setUp.apply(this,arguments)},_ready:function(){this.options.autoPlay&&this.play()},play:function(t){e=this.trigger("wp-slideshow-before-play"),e.isDefaultPrevented()||(this._startTimer(!1,t),this.trigger("wp-slideshow-play"))},stop:function(){e=this.trigger("wp-slideshow-before-stop"),e.isDefaultPrevented()||(this._stopTimer(),this.trigger("wp-slideshow-stop"))},isPlaying:function(){return 0!==this._ssTimer},_startTimer:function(t,e){this._stopTimer();var i=e?0:this.options.displayInterval;t&&(i+=this.options.transitionDuration),this._ssTimer=setTimeout(this._ssTimerCallback,i)},_stopTimer:function(){this._ssTimer&&clearTimeout(this._ssTimer),this._ssTimer=0},_executeCall:function(t,i){e=this.trigger("wp-slideshow-before-"+t),e.isDefaultPrevented()||(this["_"+t].apply(this,i)&&this.stop(),this.isPlaying()&&this._startTimer(!0),this.trigger("wp-slideshow-"+t))},first:function(){return this._executeCall("first",arguments)},last:function(){return this._executeCall("last",arguments)},previous:function(){return this._executeCall("previous",arguments)},next:function(){return this._executeCall("next",arguments)},goTo:function(){return this._executeCall("goTo",arguments)},close:function(){return this._executeCall("close",arguments)},_first:function(){},_last:function(){},_previous:function(){},_next:function(){},_goTo:function(){},_close:function(){}})}(t,WebPro,window,document),function(t,e){e.widget("Widget.ContentSlideShow",e.Widget.SlideShowBase,{_widgetName:"content-slideshow",defaultOptions:{slideshowClassName:"wp-slideshow",clipClassName:"wp-slideshow-clip",viewClassName:"wp-slideshow-view",slideClassName:"wp-slideshow-slide",slideLinkClassName:"wp-slideshow-slide-link",firstBtnClassName:"wp-slideshow-first-btn",lastBtnClassName:"wp-slideshow-last-btn",prevBtnClassName:"wp-slideshow-prev-btn",nextBtnClassName:"wp-slideshow-next-btn",playBtnClassName:"wp-slideshow-play-btn",stopBtnClassName:"wp-slideshow-stop-btn",closeBtnClassName:"wp-slideshow-close-btn",playingClassName:"wp-slideshow-playing"},_findWidgetElements:function(t){var i=this.$element[0];return e.scopedFind(i,t,this.options.slideshowClassName,i)},_attachBtnHandler:function(t,e){var i=this;this["$"+e+"Btn"]=this._findWidgetElements("."+t).attr({tabindex:"0",role:"button","aria-label":e}).unbind("keydown").bind("keydown",function(t){var s=t.keyCode||t.which;32!==s&&13!==s||(i[e](),t.preventDefault())}).unbind("click").bind("click",function(t){i[e](),t.preventDefault()})},_getAjaxSrcForImage:function(t){return t.data("src")},_reprioritizeImageLoadingIfRequired:function(e){!this._isLoaded(e)&&this._cssilLoader&&!this._cssilLoader.isQueueEmpty()&&(e=t(this.slides.$element[e]),this._cssilLoader.reprioritize(this._getAjaxSrcForImage(e.is("img")?e:e.find("img")),this.isPlaying()))},_bpActivate:function(){this.slides.bind("wp-panel-show",this._panelShowCallback)},_bpDeactivate:function(){this.slides.unbind("wp-panel-show").unbind("wp-panel-before-show").unbind("wp-panel-hide").unbind("wp-panel-before-hide"),this.unbind("wp-slideshow-play").unbind("wp-slideshow-stop"),this.tabs&&this.tabs.trigger("wp-panel-hide",{panelIndex:this.slides.activeIndex})},_attachBehavior:function(){var t=this,i=this.options;this._super.prototype._attachBehavior.call(this),this._panelShowCallback=function(){t._ssTimerTriggered||t.isPlaying()&&t._startTimer(!1)},this.$element.addClass(i.slideshowClassName);var s=this.slides?this.slides.$element:this._findWidgetElements("."+i.slideClassName),n=this.tabs?this.tabs.$element:this._findWidgetElements("."+i.slideLinkClassName),a="click"===i.event&&"mouseout_click"===i.deactivationEvent;!this.slides&&(this.slides=new e.Widget.PanelGroup(s,{defaultIndex:this.slides&&this.slides.activeIndex||i.defaultIndex||0,toggleStateEnabled:a}),this.slides.bind("wp-panel-show",this._panelShowCallback),this.tabs=null,n.length)&&(this.tabs=new e.Widget.TabGroup(n,{defaultIndex:this.tabs&&this.tabs.activeIndex||i.defaultIndex||0,toggleStateEnabled:a,contentLayout_runtime:i.contentLayout_runtime}),this.slides.addTabGroup(this.tabs)),this.slides.bind("wp-panel-before-show",function(e,i){t._reprioritizeImageLoadingIfRequired(i.panelIndex)}),this._attachBtnHandler(i.firstBtnClassName,"first"),this._attachBtnHandler(i.lastBtnClassName,"last"),this._attachBtnHandler(i.prevBtnClassName,"previous"),this._attachBtnHandler(i.nextBtnClassName,"next"),this._attachBtnHandler(i.playBtnClassName,"play"),this._attachBtnHandler(i.stopBtnClassName,"stop"),this._attachBtnHandler(i.closeBtnClassName,"close"),this.bind("wp-slideshow-play",function(){this.$element.addClass(i.playingClassName)}),this.bind("wp-slideshow-stop",function(){this.$element.removeClass(i.playingClassName)})},_first:function(){this.slides.showPanel(0)},_last:function(){var t=this.slides;t.showPanel(t.$element.length-1)},_previous:function(){var t=this.slides,e=t.$element.length,i=t.activeIndex,e=(i<1?e:i)-1;this.options.loop||0!=i?t.showPanel(e):this.isPlaying()&&this.stop()},_next:function(){var t=this.slides,e=t.activeIndex,i=(e+1)%t.$element.length;this.options.loop||0!=i?this.options.playOnce&&0==i&&this.isPlaying()?this.stop():(!this.isPlaying()||this._isLoaded(e)&&this._isLoaded(i))&&t.showPanel(i):this.isPlaying()&&this.stop()},_goTo:function(){var t=this.slides;t.showPanel.apply(t,arguments)},_close:function(){var t=this.slides;t.hidePanel(t.activeElement)},_isLoaded:function(e){return!(this._csspIsImageSlideShow&&(e=t(this.slides.$element[e]),e=e.is("img")?e:e.find("img"),e.length>0&&(e.hasClass(this.options.imageIncludeClassName)||!e[0].complete)))}})}(t,WebPro,window,document),function(t,e,i,s,n){e.Widget.ContentSlideShow.fadingTransitionPlugin={defaultOptions:{transitionDuration:500},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)})},attachBehavior:function(a){var o=this,r=a.slides,l=r.$element,d=r.activeIndex,h=a._findWidgetElements("."+a.options.viewClassName);0==h.length&&a._$sslbpOverlay&&(h=t("."+a.options.viewClassName,a._$sslbpOverlay)),r.bind("wp-panel-show",function(e,i){o._showElement(a,t(i.panel)),"stack"===a.options.contentLayout_runtime&&o._showElement(a,a.$closeBtn)}).bind("wp-panel-hide",function(e,i){o._hideElement(a,t(i.panel))}),"stack"===a.options.contentLayout_runtime&&a.bind("wp-slideshow-close",function(){o._hideElement(a,a.$closeBtn)});for(var c=0;c<l.length;c++)c!==d&&(l[c].style.display="none");if("fullWidth"===a.options.elastic){var p=t(i),u=t(s.body),f=function(e){e===n&&(e=Math.max(p.width(),parseInt(u.css("min-width")))),"lightbox"!==a.options.contentLayout_runtime&&h.css("left",h.position().left-h.offset().left),h.width(e),o._showElement(a,t(r.activeElement))};for(f(),c=0;c<l.length;c++){var m=t(l[c]);m.width("100%"),m.addClass("borderbox")}"lightbox"===a.options.contentLayout_runtime?a._fstpPositionSlides=f:p.on("orientationchange resize",function(){f()})}if(d===-1&&"stack"===a.options.contentLayout_runtime&&a.$closeBtn.hide(),Muse.Browser.Features.Touch&&a.options.enableSwipe===!0){h.addClass("horizontalSlideShow");var g=a.options.transitionDuration;a._ftpSwipeNoInterrupt=!1,l.each(function(){var i=t(this);i.data("opacity",i.css("opacity"));var s=Muse.Utils.getCanvasDirection(i,"horizontal"),n="horizontal"===s.dir,r=s.reverse;if(s=i.swipe.defaults.excludedElements){var s=s.split(/\s*,\s*/),d=s.indexOf("a");0<=d&&(s.splice(d,1),i.swipe.defaults.excludedElements=s.join(", "))}i.swipe({triggerOnTouchEnd:!0,allowPageScroll:n?"vertical":"horizontal",threshold:75,swipeStatus:function(t,s,d,h){"start"==s?a.stop():"move"!=s||(!n||"left"!=d&&"right"!=d)&&(n||"up"!=d&&"down"!=d)?"cancel"==s?(o._scrollTo(a,a.slides.activeIndex,0,g),e.releasePointerCapture(i[0],t),a.trigger("wp-swiped")):"end"==s&&(s=a.slides.activeIndex,h=-1,n&&("right"==d&&!r||"left"==d&&r)||!n&&("down"==d&&!r||"up"==d&&r)?h=s-1<0?l.length-1:s-1:(n&&("left"==d&&!r||"right"==d&&r)||!n&&("up"==d&&!r||"down"==d&&r))&&(h=s+1>l.length-1?0:s+1),h!=-1&&o._scrollTo(a,h,0,g),e.releasePointerCapture(i[0],t),a.trigger("wp-swiped")):(!e.hasPointerCapture()&&Math.abs(h)>1&&e.setPointerCapture(i[0],t),o._scrollTo(a,-1,h*(!r&&("left"==d||"up"==d)||r&&("right"==d||"down"==d)?1:-1),0))}})})}},_showElement:function(t,e){var i=!1,s=function(){i||(i=!0,e.show().css("opacity",""))},n=setTimeout(s,t.options.transitionDuration+10);e.stop(!1,!0).fadeIn(t.options.transitionDuration,function(){clearTimeout(n),s()})},_hideElement:function(t,e){var i=!1,s=function(){i||(i=!0,e.hide().css("opacity",""))},n=setTimeout(s,t.options.transitionDuration+10);e.stop(!1,!0).fadeOut(t.options.transitionDuration,function(){clearTimeout(n),s()})},_scrollTo:function(e,i,s,n){if(!e._ftpSwipeNoInterrupt){var a=e.slides.$element,o=e.slides.activeIndex,r=i==-1;i==-1&&(i=s<0?o-1<0?a.length-1:o-1:o+1>a.length-1?0:o+1);var l=t(a[o]),d=t(a[i]);if(!r&&0==s||o==i){e._ftpSwipeNoInterrupt=!0;var h=0,c=!1,p=function(){c||(c=!0,d.show().css("opacity",""),i!=o&&e.slides.showPanel(i),++h!=a.length)||(e._ftpSwipeNoInterrupt=!1)};if(d.css("opacity")!=d.data("opacity")){var u=setTimeout(p,n+10);d.stop(!1,!0).animate({opacity:d.data("opacity")},n,function(){clearTimeout(u),p()})}else p();a.each(function(s){var o,r=t(this),l=!1,d=function(){l||(l=!0,r.hide().css("opacity",""),++h!=a.length)||(e._ftpSwipeNoInterrupt=!1)};s!=i&&("none"!=r.css("display")&&0!=r.css("opacity")?(o=setTimeout(d,n+10),r.stop(!1,!0).animate({opacity:0},n,function(){clearTimeout(o),d()})):d())})}else s=Math.abs(s),r=l.width(),s>r&&(s=r),s=d.data("opacity")*(s/r),r=l.data("opacity")*(1-s),l.stop(!1,!0).animate({opacity:r},n),d.stop(!1,!0).show().animate({opacity:s},n)}}},e.Widget.ContentSlideShow.filmstripTransitionPlugin={defaultOptions:{transitionDuration:500,transitionStyle:"horizontal"},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)}).bind("bp_activate",function(){s.bpActivate(e)}).bind("bp-deactivate",function(){s.bpDeactivate(e)})},bpActivate:function(t){plugin._goToSlide(t,t.slides.activeElement,t.options.transitionDuration)},bpDeactivate:function(t){t.slides.unbind("wp-panel-show").unbind("wp-panel-hide"),t.unbind("wp-slideshow-before-previous").unbind("wp-slideshow-before-next").unbind("wp-slideshow-previous").unbind("wp-slideshow-next")},attachBehavior:function(a){var o=this,r=t(i),l=t(s.body),d=a.options,h=function(){return"fullWidth"===d.elastic?Math.max(r.width(),parseInt(l.css("min-width"))):f.width();
},c="horizontal"===d.transitionStyle,p=a.slides,u=p.$element,f=a.$clip?a.$clip:a._findWidgetElements("."+d.clipClassName),m=a.$view?a.$view:a._findWidgetElements("."+d.viewClassName),g=h(),v=f.height(),b={left:1,right:1},_={up:1,down:1},w={top:"0",left:"0"};a.$clip=f,a.$view=m;var C=f.css("position");"absolute"!==C&&"fixed"!==C&&"fullScreen"!==d.elastic&&f.css("position","relative"),"absolute"!==m.css("position")&&(w.position="relative"),a._fstpOffsetSize=c?h():f.height(),a._fstp$Clip=f,a._fstp$View=m,a._fstpStyleProp=c?"left":"top",a._fstpStylePropZero=c?"top":"left",p.bind("wp-panel-show",function(t,e){o._goToSlide(a,e.panel,d.transitionDuration),"stack"===a.options.contentLayout_runtime&&a.$closeBtn.stop(!0).fadeIn(d.transitionDuration)}),"stack"===a.options.contentLayout_runtime&&a.bind("wp-slideshow-close",function(){f.css({opacity:.99}).stop(!0).animate({opacity:0},{queue:!1,duration:d.transitionDuration,complete:function(){w[a._fstpStyleProp]=(c?f.width():f.height())+"px",w[a._fstpStylePropZero]="0",m.css(w),f.css({opacity:""})}}),a.$closeBtn.stop(!0).fadeOut(d.transitionDuration)}),a._fstpRequestType=null,a.bind("wp-slideshow-before-previous wp-slideshow-before-next",function(t){a._fstpRequestType=t.type.replace(/.*-/,""),a._fstpOldActiveIndex=a.slides.activeIndex}).bind("wp-slideshow-previous wp-slideshow-next",function(){a._fstpRequestType=null,a._fstpOldActiveIndex=-1});var y=function(t,e){t!==n&&e!==n||(t=h(),e=f.height()),"fullWidth"===d.elastic&&(e=f.height(),f.width(t),"lightbox"!==d.contentLayout_runtime&&f.css("left",f.position().left-f.offset().left),m.width(t));for(var i=0,s=c?t:e,r=a._fstpStyleProp,l=a._fstpStylePropZero,g=0;g<u.length;g++){var v=u[g].style;v[l]="0",v[r]=i+"px",v.margin="0",v.position="absolute",i+=s}return o._goToSlide(a,p.activeElement,0),i},C=y();if("fullWidth"===d.elastic)for(var x=0;x<u.length;x++){var P=t(u[x]);P.width("100%"),P.addClass("borderbox")}"off"!==d.elastic?"lightbox"===d.contentLayout_runtime?a._fstpPositionSlides=y:r.on("orientationchange resize",function(){y()}):(w[c?"width":"height"]=C+"px",w[c?"height":"width"]=(c?v:g)+"px"),p.activeElement||(w[a._fstpStyleProp]=(c?g:v)+"px",w[a._fstpStylePropZero]="0","stack"===a.options.contentLayout_runtime&&a.$closeBtn.hide()),w.overflow="visible",m.css(w),o._goToSlide(a,p.activeElement,d.transitionDuration),Muse.Browser.Features.Touch&&a.options.enableSwipe===!0&&(t(this),c?m.addClass("horizontalSlideShow"):m.addClass("verticalSlideShow"),m.swipe({triggerOnTouchEnd:!0,allowPageScroll:c?"vertical":"horizontal",threshold:75,swipeStatus:function(t,i,s,n){var r=Muse.Utils.getCanvasDirection(m,d.transitionStyle).reverse,r=!r&&("left"==s||"up"==s)||r&&("right"==s||"down"==s)?1:-1;switch(i){case"start":a.stop();break;case"move":(c&&s in b||!c&&s in _)&&(!e.hasPointerCapture()&&Math.abs(n)>1&&e.setPointerCapture(m[0],t),o._scrollBy(a,n*r));break;case"cancel":o._goToSlide(a,p.activeElement,0),e.releasePointerCapture(m[0],t),a.trigger("wp-swiped");break;case"end":o._finalizeSwipe(a,a._fstpOffsetSize*a.slides.activeIndex+n*r,r,s),e.releasePointerCapture(m[0],t)}}}))},_scrollBy:function(t,e){var i=t._fstp$View,s=t.slides.activeIndex*-t._fstpOffsetSize,n=t._fstpStyleProp,a={};i.stop(!1,!0),a[n]=s-e+"px",i.css(a)},_finalizeSwipe:function(t,e,i){var s=t.slides,n=t._fstp$View,a=e/t._fstpOffsetSize,e=t._fstpStyleProp,o={},a=1===i?Math.ceil(a):Math.floor(a),a=Math.max(0,Math.min(a,s.$element.length-1));o[e]=-(a*t._fstpOffsetSize)+"px",n.animate(o,t.options.transitionDuration,function(){s.showPanel(a),t.trigger("wp-swiped")})},_goToSlide:function(e,i,s){if(e){var n=t(i),a=e._fstp$View,o=e._fstpStyleProp,r="left"===o?"offsetLeft":"offsetTop",l="left"===o?"offsetWidth":"offsetHeight",d=i?-i[r]:e._fstp$Clip[0][l],h={};h[o]=d+"px";var c=e._fstpRequestType,p=e._fstpOldActiveIndex;if(c&&p!==-1){var u=e.slides.activeIndex,f=e.slides.$element.length-1;if(u!==p){var m=0;"previous"===c&&0===p&&u===f?m=-i[l]:"next"===c&&p===f&&0===u&&(e=e.slides.$element[p],m=e[r]+e[l]),m&&(h[o]=-m+"px",n.css(o,m+"px"))}}a.stop(!1,!0).animate(h,s,function(){m&&(n.css(o,-d+"px"),a.css(o,d+"px"))})}}},e.Widget.ContentSlideShow.alignPartsToPagePlugin={defaultOptions:{alignPartToPageClassName:"wp-slideshow-align-part-to-page"},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e.bind("attach-behavior",function(){s.attachBehavior(e)})},attachBehavior:function(e){if("fullWidth"===e.options.elastic&&e.$element.hasClass("align_parts_to_page")&&"fixed"===e.$element.css("position")&&"lightbox"!==e.options.contentLayout_runtime){var s=t(i),n=t("#page"),a=e.options,o=function(){var i=n.offset().left+"px";t("."+a.alignPartToPageClassName,e.$element).each(function(){t(this).css("margin-left",i)})};e.$element.children().each(function(){var e=t(this);0<t("."+a.viewClassName,e).length||e.addClass(a.alignPartToPageClassName)}),o(),s.on("orientationchange resize",function(){o()})}}},e.Widget.ContentSlideShow.slideImageIncludePlugin={defaultOptions:{imageIncludeClassName:"wp-slideshow-slide-image-include",slideLoadingClassName:"wp-slideshow-slide-loading"},initialize:function(i,s){var n=this;t.extend(s,t.extend({},n.defaultOptions,s)),i._cssilLoader=new e.ImageLoader,i.bind("attach-behavior",function(){n._attachBehavior(i)})},_attachBehavior:function(t){for(var e=this,i=t._cssilLoader,s=t._findWidgetElements("."+t.options.slideClassName),n=s.length,a="."+t.options.imageIncludeClassName,o=t.options.slideLoadingClassName,r=function(i,s,n,a){e._handleImageLoad(t,i,s,n,a)},l=0;l<n;l++){var d=s.eq(t._shuffleArray?t._shuffleArray[l]:l),h=d.is("img")?d:d.find(a),c=h[0];if(c){var p=t._getAjaxSrcForImage(h)||c.href;p&&(h={width:h.data("width"),height:h.data("height"),$ele:h,$slide:d},c.style.visibility="hidden",i.add(p,{callback:r,data:h}),d.addClass(o))}}t._cssilLoader.start()},_handleImageLoad:function(t,e,i,s,n){var a=n.$ele,o=a[0];o.src=e,"off"!==t.options.elastic?(a.data("imageWidth",i),a.data("imageHeight",s),t._csspPositionImage(o,t.options.heroFitting,t.options.elastic,i,s)):(o.width=n.width||i,o.height=n.height||s),o.style.visibility="",a.removeClass(t.options.imageIncludeClassName),n.$slide.removeClass(t.options.slideLoadingClassName),t.isPlaying()&&t.slides.$element[t.slides.activeIndex]==n.$slide[0]&&t._startTimer(!1)}},e.Widget.ContentSlideShow.shufflePlayPlugin={defaultOptions:{randomDefaultIndex:!0},initialize:function(e,i){var s=this;t.extend(i,t.extend({},s.defaultOptions,i)),e._shuffleArray=[],e._shuffleNextDict={},e._realNext=e._next,e._next=function(){s._handleNext(e)},e._shufflePlayCount=1,e.bind("before-attach-behavior",function(){s._reshuffle(e),i.randomDefaultIndex&&"undefined"==typeof i.defaultIndex&&(e.options.defaultIndex=e._shuffleArray[0])})},_fisherYatesArrayShuffle:function(t){if(t&&t.length)for(var e=t.length;--e;){var i=Math.floor(Math.random()*(e+1)),s=t[i];t[i]=t[e],t[e]=s}},_reshuffle:function(t){var e=t._shuffleArray,i={},s=t.slides?t.slides.$element.length:t._findWidgetElements("."+t.options.slideClassName).length;if(e.length!==s)for(var n=e.length=0;n<s;n++)e[n]=n;for(this._fisherYatesArrayShuffle(e),n=0;n<s;n++)i[e[n]]=e[(n+1)%s];t._shuffleNextDict=i,t._shufflePlayCount=1},_handleNext:function(t){if(t.isPlaying()){var e=t.slides.activeIndex,i=t._shuffleNextDict[e]||0;t._isLoaded(e)&&t._isLoaded(i)&&(t._goTo(i),++t._shufflePlayCount>=t.slides.$element.length&&(this._reshuffle(t),(!t.options.loop||t.options.playOnce)&&t.stop()))}else t._realNext()}}}(t,WebPro,window,document),function(e,i,s){i.widget("Widget.Form",i.Widget,{_widgetName:"form",defaultOptions:{validationEvent:"blur",errorStateSensitivity:"low",ajaxSubmit:!0,fieldWrapperClass:"field",formErrorClass:"form-error",formSubmittedClass:"form-submitted",formDeliveredClass:"form-delivered",focusClass:"focus",notEmptyClass:"not-empty",emptyClass:"empty",validClass:"valid",invalidClass:"invalid",requiredClass:"required"},validationTypes:{"always-valid":/.*/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,alpha:/^[A-z\s]+$/,numeric:/^[0-9]+$/,phone:/^([0-9])?(\s)?(\([0-9]{3}\)|[0-9]{3}(\-)?)(\s)?[0-9]{3}(\s|\-)?[0-9]{4}(\s|\sext|\sx)?(\s)?[0-9]*$/,captcha:function(t){return t.data("captchaValid")},recaptcha:function(){if("undefined"==typeof Recaptcha)return!1;var t=Recaptcha.get_response();return t&&0<t.length},checkbox:function(){return!0},checkboxgroup:function(){return!0},radio:function(){return!0},radiogroup:function(){return!0},time:function(t){var t=t.find("input, textarea"),e=t.val().replace(/[^0-9:APM]/g,"");if(e.indexOf(":")==-1||1!=e.match(/:/).length)return!1;var i=e.split(":"),s=parseInt(i[0]),i=parseInt(i[1]);return s<0||s>24||(i<0||i>59||(t.val(e),!0))}},_transformMarkup:function(){var t=this;t.hasCAPTCHA=!1,t.hasReCAPTCHA=!1,this.$element.find("."+this.options.fieldWrapperClass).each(function(){var i=e(this);switch(i.attr("data-type")){case"captcha":t.hasCAPTCHA=!0,i.find('input[name="CaptchaV2"]').remove(),i.find('input[name="muse_CaptchaV2"]').attr("name","CaptchaV2");break;case"recaptcha":t.hasReCAPTCHA=!0}})},_extractData:function(){this.event=this.options.validationEvent,this.errorSensitivity=this.options.errorStateSensitivity,this.classNames={focus:this.options.focusClass,blur:this.options.emptyClass,keydown:this.options.notEmptyClass}},_isEmpty:function(t){var i=t.find("input, textarea");switch(t.data("type")){case"checkboxgroup":case"radiogroup":return t=i.attr("name"),0==e('input[name="'+t+'"]:checked').length;case"checkbox":case"radio":return"undefined"==typeof i.attr("checked");default:return""==i.val()}},_getGroupField:function(t){switch(t.data("type")){case"radio":return t.parent().closest("."+this.options.fieldWrapperClass).filter(function(){return"radiogroup"==e(this).data("type")});case"checkbox":return t.parent().closest("."+this.options.fieldWrapperClass).filter(function(){return"checkboxgroup"==e(this).data("type")})}return null},_updateReCaptchaChallenge:function(){var t=e("#recaptcha_response_field",this.$element);if(0!=t.length){if(0==e("#recaptcha_challenge_field_holder",t.parent()).length){var i=e("#recaptcha_challenge_field_holder");t.before(i)}for(var t=e("#recaptcha_image",this.$element),i=["#ReCaptchaV2","#ReCaptchaAnswer","#ReCaptchaChallenge"],s=0;s<i.length;s++)if(0==e(i[s],t).length){var n=e(i[s]);t.after(n)}}},_attachBehavior:function(){var t=this;switch((this._bpID=this.$element.closest(".breakpoint").attr("id"))&&(e("body").on("muse_bp_activate",function(e,i,s){t._bpID==s.attr("id")&&t._updateReCaptchaChallenge()}),this._updateReCaptchaChallenge()),this.$element.find("."+this.options.fieldWrapperClass).each(function(){var i=e(this);t._isEmpty(i)||i.find("input, textarea").each(function(){e(this).removeClass(t.options.emptyClass)}),"captcha"==i.attr("data-type")&&(i.data("captchaValid",!1),i.find('input[name="CaptchaV2"]').keyup(function(){var s=e(this).val(),n=i.find('input[name="CaptchaHV2"]').val();t._validateCaptcha(n,s,function(e){i.data("captchaValid",e),i.data("error-state")&&"high"==t.errorSensitivity&&t._validate(i)})})),t._isEmpty(i)||i.addClass(t.classNames.keydown)}),this.$element.find("input, textarea").bind("focus blur keydown change propertychange",function(i){var s=t.classNames[i.type],n=t.classNames.focus,a=t.classNames.keydown,o=t.classNames.blur,r=e(this).closest("."+t.options.fieldWrapperClass),l=t._getGroupField(r);switch(i.type){case"focus":r.addClass(s).removeClass(o);break;case"keydown":"checkbox"!=r.data("type")&&"radio"!=r.data("type")&&r.addClass(s).removeClass(o);break;case"blur":r.removeClass(n),t._isEmpty(r)&&r.addClass(s).removeClass(a),l&&t._isEmpty(l)&&l.addClass(s).removeClass(a);break;case"change":case"propertychange":"radio"==r.data("type")&&l.find("."+t.options.fieldWrapperClass).removeClass(a),t._isEmpty(r)?r.addClass(o).removeClass(a):r.addClass(a).removeClass(o),l&&(t._isEmpty(l)?l.addClass(o).removeClass(a):l.addClass(a).removeClass(o))}}),this.event){case"blur":case"keyup":this.$element.find("."+this.options.fieldWrapperClass+" input, ."+this.options.fieldWrapperClass+" textarea").bind(this.event,function(){t._validate(e(this).closest("."+t.options.fieldWrapperClass))});case"submit":this.$element.submit(function(i){var s=!0,n=t.$element.find("."+t.options.fieldWrapperClass).length-1;t.$element.find("."+t.options.fieldWrapperClass).each(function(a){(s=!!t._validate(e(this))&&s)&&a==n&&t.options.ajaxSubmit&&(i.preventDefault(),t._submitForm()),s||i.preventDefault()}),e("."+t.options.fieldWrapperClass,t.$element).each(function(){var t=e(this);"email"==t.attr("data-type")&&(t=t.find("input, textarea"),"no.reply@example.com"==t.val()&&t.val(""))})})}},_validateCaptcha:function(t,i,s){6!=i.length?s(!1):e.get("/ValidateCaptcha.ashx",{key:t,answer:i},function(t){s("true"==t)})},_validateReCaptcha:function(t,i){e.get("/ValidateCaptcha.ashx",{key:Recaptcha.get_challenge(),answer:Recaptcha.get_response(),imageVerificationType:"recaptcha"},function(e){"true"==e?t():i()})},_submitForm:function(){var t=this,i=e("#ReCaptchaAnswer",t.$element),s=e("#ReCaptchaChallenge",t.$element);t.hasReCAPTCHA&&1==i.length&&1==s.length?(i.val(Recaptcha.get_response()),s.val(Recaptcha.get_challenge()),t._validateReCaptcha(function(){t._submitFormInternal()},function(){e("."+t.options.fieldWrapperClass,t.$element).each(function(){var i=e(this);"recaptcha"==i.attr("data-type")&&t._switchState("invalid",i)}),Recaptcha.reload()})):t._submitFormInternal()},_submitFormInternal:function(){var i=this,n=this.options.formSubmittedClass,a=this.options.formDeliveredClass,o=this.options.formErrorClass,r=n+" "+a+" "+o,l=this.$element.find("input[type=submit], button");e.ajax({url:this.$element.attr("action"),type:"post",data:this.$element.serialize(),beforeSend:function(){i.$element.removeClass(r),i.$element.addClass(n),i.$element.find("."+i.options.fieldWrapperClass).removeClass(i.options.focusClass),l.attr("disabled","disabled")},complete:function(r){r&&(r.status>=400||r.responseText&&r.responseText.indexOf("<?php")>=0)&&alert("Form PHP script is missing from web server, or PHP is not configured correctly on your web hosting provider. Check if the form PHP script has been uploaded correctly, then contact your hosting provider about PHP configuration."),i.$element.removeClass(n);var d=null;if(r&&r.responseText)try{d=t.parseJSON(r.responseText),d=d.FormProcessV2Response||d.FormResponse||d.MusePHPFormResponse||d}catch(h){}if(d&&d.success){if(i.$element.addClass(a),d.redirect)return void(s.location.href=d.redirect);i.$element[0].reset(),i.hasCAPTCHA&&i.$element.find("input:not([type=submit]), textarea").each(function(){e(this).attr("disabled","disabled")}),i.$element.find("."+i.options.notEmptyClass).each(function(){e(this).removeClass(i.options.notEmptyClass)})}else if(r=i._getFieldsWithError(d))for(d=0;d<r.length;d++)i._switchState("invalid",r[d]);else i.$element.addClass(o);i.hasCAPTCHA||l.removeAttr("disabled"),i.hasReCAPTCHA&&Recaptcha.reload()}})},_getFieldsWithError:function(t){if(!(t&&t.error&&t.error.fields&&t.error.fields.length))return null;for(var i=[],s=0;s<t.error.fields.length;s++){var n=e('[name="'+t.error.fields[s].field+'"]',this.$element).parents("."+this.options.fieldWrapperClass);1==n.length&&i.push(n)}return i},_validate:function(t){var e=t.attr("data-type")||"always-valid",i=t.find("input, textarea"),s=this.validationTypes[e],n="true"===t.attr("data-required"),a=this._isEmpty(t),s=s instanceof RegExp?Boolean(i.val().match(s)):s(t);return n&&a?this._switchState("required",t):("email"==e&&a&&i.val("no.reply@example.com"),s||!n&&a?this._switchState("valid",t):this._switchState("invalid",t))},_switchState:function(t,e){var i=e.attr("data-type"),s=this.options.validClass,n=this.options.invalidClass,a=this.options.requiredClass,o=this,r=function(){o._validate(e)};return e.removeClass(s+" "+n+" "+a),"required"==t||"invalid"==t?("invalid"==t?e.addClass(n):e.addClass(a),"recaptcha"!=i&&"low"!=this.errorSensitivity&&(s="high"==this.errorSensitivity?"keyup":"blur",e.data("error-state")||(e.data("error-state",!0),e.find("input, textarea").bind(s,r))),!1):(e.data("error-state")&&("high"==this.errorSensitivity?"keyup"!=this.event&&e.data("error-state",!1).find("input, textarea").unbind("keyup",r):"medium"==this.errorSensitivity&&"blur"!=this.event&&e.data("error-state",!1).find("input, textarea").unbind("blur",r)),("checkbox"==i||"radio"==i)&&(r=this._getGroupField(e))&&r.hasClass(a)?void e.addClass(a):(e.addClass(s),!0))}}),e.fn.wpForm=function(t){return new i.Widget.Form(this,t),this}}(t,WebPro,window,document)}),function(){if("undefined"!=typeof Muse&&"undefined"!=typeof Muse.assets){var t=function(t,e){for(var i=0,s=t.length;i<s;i++)if(t[i]==e)return i;return-1}(Muse.assets.required,"webpro.js");if(-1!=t){Muse.assets.required.splice(t,1);for(var t=document.getElementsByTagName("meta"),e=0,i=t.length;e<i;e++){var s=t[e];if("generator"==s.getAttribute("name")){"2015.2.1.352"!=s.getAttribute("content")&&Muse.assets.outOfDate.push("webpro.js");break}}}}}();